<div class="layout-px-spacing">
    <div class="row layout-spacing layout-top-spacing" id="cancel-row">
        <div class="col-lg-12">
            <div class="widget-content searchable-container list">

              
                <div class="row ">
                    <div class="col-4 pr-0">
                        <div class="d-flex" *ngIf="1">
                            <div class="">
                                <dp-date-picker (onSelect)="getAllTherequests($event)" [(ngModel)]="filterStartDate"
                                    placeholder="Date de début" theme="dp-material" [config]="datePickerConfig">
                                </dp-date-picker>
                            </div>
                            <div class="deleteDateBtn" [hidden]="!filterStartDate" (click)="deleteFilterStartDate()">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                    fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                    stroke-linejoin="round" class="feather feather-x-circle table-cancel">
                                    <line x1="15" y1="9" x2="9" y2="15"></line>
                                    <line x1="9" y1="9" x2="15" y2="15"></line>
                                </svg>

                            </div>

                            <div class="ml-2">
                                <dp-date-picker (onSelect)="getAllTherequests($event)" [(ngModel)]="filterEndDate"
                                    placeholder="Date de Fin" theme="dp-material" [config]="datePickerConfig">
                                </dp-date-picker>
                            </div>
                            <div class="deleteDateBtn" [hidden]="!filterEndDate" (click)="deleteFilterEndDate()">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                    fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                    stroke-linejoin="round" class="feather feather-x-circle table-cancel">
                                    <line x1="15" y1="9" x2="9" y2="15"></line>
                                    <line x1="9" y1="9" x2="15" y2="15"></line>
                                </svg>
                            </div>
                        </div>
                    </div>
                    <div class="col text-left">
                        <div class="d-flex ">
                            <div class="">
                                <input type="text" class="form-control product-search" (keyup)="onKey($event)"
                                    placeholder="Nom du client Finale">
                            </div>
                            <div class="ml-2">
                                <input type="text" class="form-control product-search" (keyup)="onKeyTelPressed($event)"
                                    placeholder="Tél du client Finale">
                            </div>
                            <div class=" ml-2">
                                <input type="number" class="form-control product-search" (keyup)="onBordereauxKey($event)"
                                    placeholder="Num bordereau">
                            </div>

                        </div>
                    </div>
                    <div class="col-1 float-right pl-0">
                        <select (change)="p=1;getAllTherequests();sharedService.updateNumberOfItemPerPage();"
                            [(ngModel)]="sharedService.itemsPerPage" class="form-control text-center pr-0">
                            <option value=10>10</option>
                            <option value=25 selected="selected">25</option>
                            <option value=50>50</option>
                            <option value=100>100</option>
                        </select>
                    </div>


                </div>
                <div class="row mt-2">
                    <div class="col ">
                        <div class="form-inline mr-2 my-lg-0 d-flex">

                            <!-- <div class=" mt-md-0 mt-3 col-md-2 px-0">
                                <ng-select disabled [(ngModel)]="selectedStatus" (change)="activeStatus($event)"
                                    placeholder="select a status" [items]="status" bindLabel="name" bindValue="value"
                                    class="custom">
                                    <ng-template ng-option-tmp let-item="item" let-index="index"
                                        let-search="searchTerm">
                                        <h6 class="mb-0" [ngOptionHighlight]="search" translate>{{item.name}}</h6>
                                    </ng-template>
                                </ng-select>
                            </div> -->
                            <div class=" mt-md-0 mt-3 col px-0">
                                <ng-select (change)="selectClient($event)" placeholder="select client" [items]="clients"
                                    bindLabel="nomCommercial" bindValue="_id" class="custom">
                                    <ng-template ng-option-tmp let-item="item" let-index="index"
                                        let-search="searchTerm">
                                        <h6 class="mb-0" [ngOptionHighlight]="search">{{item.nomCommercial}}</h6>
                                    </ng-template>
                                </ng-select>
                            </div>
                            <div class="ml-md-2 mt-md-0 mt-3 col px-0">
                                <ng-select (change)="selectDriver($event)" placeholder="select driver" [items]="drivers"
                                    bindLabel="name" bindValue="_id" class="custom">
                                    <ng-template ng-option-tmp let-item="item" let-index="index"
                                        let-search="searchTerm">
                                        <h6 class="mb-0" [ngOptionHighlight]="search">{{item.name}}</h6>
                                    </ng-template>
                                </ng-select>
                            </div>
                            <div class="ml-md-2 mt-md-0 mt-3  px-0" *ngIf="selectedJobType"
                                [ngClass]="{'col': !selectedJobType, 'col-2':selectedJobType}">
                                <!-- <ng-select (change)="selectCity($event)"
                                 placeholder="City" [items]="gouvernorats" class="custom">
                                    <ng-template ng-option-tmp let-item="item" let-index="index" let-search="searchTerm">
                                        <h6 class="mb-0" [ngOptionHighlight]="search">{{item}}</h6>
                                    </ng-template>
                                </ng-select> -->
                                <!-- <ng-select
                                (change)="selectCity($event)"
                                [(ngModel)]="selectedCity"
                                placeholder="Choisir les regions" [items]="sharedService.gouvernorats"
                                    [multiple]="true" [closeOnSelect]="false" bindLabel="division" class="text-left">


                                    <ng-template ng-multi-label-tmp let-items="items" let-clear="clear">
                                        <div class="ng-value" *ngFor="let item of items | slice:0:0">
                                            <span class="ng-value-label"> {{item.division ? item.division : ""}}</span>
                                            <span class="ng-value-icon right" (click)="clear(item)"
                                                aria-hidden="true">×</span>
                                        </div>
                                        <div class="ng-value" *ngIf="items.length > 0">
                                            <span class="ng-value-label">{{items.length - 0}} regions
                                                </span>
                                        </div>
                                    </ng-template>







                                </ng-select> -->


                            </div>
                            <!-- <div class="ml-md-2 mt-md-0 mt-3  px-0" *ngIf="subDivisions&&selectedJobType"
                                [ngClass]="{'col': !selectedJobType, 'col-2':selectedJobType}">
                                <ng-select (change)="selectSubDivision($event)" placeholder="Zone"
                                    [items]="subDivisions" class="custom">
                                    <ng-template ng-option-tmp let-item="item" let-index="index"
                                        let-search="searchTerm">
                                        <h6 class="mb-0" [ngOptionHighlight]="search">{{item}}</h6>
                                    </ng-template>
                                </ng-select>

                            </div> -->
                            <div>
                                <button (click)="openEtatLieuClient($event)" class="btn btn-primary ">
                                    Générer etat de journal
                                </button>
                            </div>
                        </div>
                    </div>


                </div>
                <div class="row mt-3 mb-5 ">
                    <div class="col">
                        <div *ngIf="total&&!errorPMsg" class="alert alert-success" role="alert">
                            Nombre de livraisons trouvées : {{total}} </div>
                        <div *ngIf="errorPMsg" class="alert alert-warning" role="alert">
                            {{errorPMsg}} </div>
                    </div>
                    <div class="col" *ngIf="total&&money">
                        <div  class="alert alert-success" role="alert">
                            somme d'argent non encore récupérer par le partenaire : {{money}} dinars </div>
                      
                    </div>

                </div>
         
                <div class="searchable-items list">
                    <div class="items items-header-section">
                        <div class="item-content ">
                            <div class="user-profile col-1">
                                <div class="user-meta-info">
                                    N&deg;
                                </div>
                            </div>
                            <div class="user-profile col-1">
                                <div class="user-meta-info">
                                    <input type="checkbox" (click)="selectAll($event)" [(ngModel)]="allSelected">
                                </div>
                            </div>
                            <div class="user-location col">
                                <h4> Client </h4>
                            </div>
                            <div class="user-location col">
                                <h4> Client Finale </h4>
                            </div>

                            <div class="user-email col">
                                <h4>{{'CONCIERGERIE.ADDRESS' | translate }} </h4>
                            </div>
                            <div class="user-location col">
                                <h4> Ville et région </h4>
                            </div>
                            <div class="user-location col">
                                <h4> Nombre de demande d'adresse </h4>
                            </div>
                            <div class="user-phone col" *ngIf="!selectedJobType">
                                <h4>{{'CONCIERGERIE.FROM' | translate }}</h4>
                            </div>
                            <div class="user-phone col" *ngIf="!selectedJobType">
                                <h4>{{'CONCIERGERIE.TO' | translate }}</h4>
                            </div>
                            <div class="user-phone col">
                                <h4>
                                    {{'CONCIERGERIE.DRIVER' | translate }}
                                </h4>
                            </div>

                            <div class="user-phone col">
                                <h4>{{'CONCIERGERIE.STATUS' | translate }}</h4>
                            </div>
                            <div class="user-phone col">
                                <h4>Code de vérification</h4>
                            </div>
                            <div class="user-phone col">
                                <h4>Actions</h4>
                            </div>
                        </div>
                    </div>
                    <div class="items my-4" *ngFor="let i = index;let item of requests  | paginate : {itemsPerPage : sharedService.itemsPerPage,
                         currentPage: p,
                        totalItems: total }">
                        <div class="item-content">
                            <div class="col">
                                <div class="row">
                                    <div class="col">
                                        <div class="user-profile ">
                                            <div class="user-meta-info bordereauxId">
                                                Date d'ajout : {{item?.createdAt | date : "M/d/yyyy h:mm a"}}
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">



                                    <div class="user-profile col-1">
                                        <div class="user-meta-info">
                                            {{item?.nid}}
                                        </div>
                                    </div>
                                    <div class="user-profile col-1">
                                        <div class="user-meta-info">
                                            <input type="checkbox" (click)="selectOne($event,i)"
                                                [(ngModel)]="checkSelect[i]">
                                        </div>
                                    </div>

                                    <div class="user-email col">
                                        <p class="usr-email-addr">
                                            {{ item?.business?.nomCommercial}}
                                        </p>
                                    </div>
                                    <div class="user-email col">
                                        <p class="usr-email-addr">
                                            {{ item?.dropOff?.deliveredTo?.name}}
                                        </p>
                                        <p class="usr-email-addr">{{ item?.dropOff?.deliveredTo?.phone}}</p>
                                    </div>
                                    <div class="user-location col">

                                        <p class="usr-location " *ngIf="!selectedJobType">
                                            {{item?.pickUp?.pickUpAddress}}
                                        </p>
                                        <p class="usr-location " *ngIf="selectedJobType">
                                            <img *ngIf="!item.dropOff.exactDropOffAddress"
                                                src="../../../../assets/img/icons/false.png"
                                                class="fluid-img false-img">
                                            <img *ngIf="item.dropOff.exactDropOffAddress"
                                                src="../../../../assets/img/icons/true.png" class="fluid-img true-img">
                                            {{item?.dropOff?.dropOffAddress}}
                                        </p>
                                    </div>
                                    <div class="user-location col">
                                        <p> {{item?.city}},{{item?.subDivision}} </p>
                                    </div>
                                    <div class="user-location col">
                                        <p>{{item?.nAddressAsked}}</p>
                                    </div>

                                    <div class="user-phone col" *ngIf="!selectedJobType">
                                        <p class=" ">{{item?.startDate| date:'dd MMM yyyy  H:mm  '}}</p>
                                    </div>
                                    <div class="user-phone col" *ngIf="!selectedJobType">
                                        <p class=" ">{{item?.endDate| date:'dd MMM yyyy  H:mm '}}</p>
                                    </div>
                                    <div class="user-phone col">
                                        <p class=" ">{{item?.driver?.name}}</p>
                                    </div>

                                    <div class="user-phone col">
                                        <!--
                                     // 1 pending  
                                     // 2 assigned  
                                     // 3 accepted by driver  
                                     // 4 declined by driver 
                                     // 5 start the job 
                                     // 6 finish the job  
                                    -->
                                        <app-jobs-badge-status [status]="item.status" [item]="item">
                                        </app-jobs-badge-status>


                                        <!-- <div class="shadow-none badge badge-danger"
                                    *ngIf="(item.status ==1 || item.status ==4 ||item.status ==7)  ">!!! URGENT !!!</div> -->

                                    </div>
                                    <div class="user-phone col">
                                        <p class=" ">{{item?.confirmFinsishingJobAdmin}}</p>
                                    </div>
                                </div>
                                
                                <div class="row"  *ngIf="0">
                                    <div class="col my-auto">
                                        <div class="d-flex">
                                            <div class="mt-1">
                                                <label class="switch s-info  mb-0 mr-2">
                                                    <input type="checkbox" [(ngModel)]="item.moneyReceivedFromDriver" (change)="receivingMoneyFromDriver(item)">
                                                    <span class="slider round"></span>
                                                </label>
                                            </div>
                                            <div class="my-auto  font-weight-bold">
                                                somme de <span class="text-info"> {{item?.amount}}DT</span> recuperé de
                                                driver
                                                <span class="text-info">
                                                    {{item?.driver?.name}}
                                                </span> dont :
                                                <span class="text-info">
                                                    {{item?.collectedInCash}}
                                                </span>
                                                en espece
                                                <span class="text-info">
                                                    {{item?.collectedInCheck}}

                                                </span>
                                                en check
                                            </div>


                                        </div>

                                    </div>
                                </div>
                                <div class="row" >
                                    <div class="col my-auto">
                                        <div class="d-flex">
                                            <div class="mt-1">
                                                <label class="switch s-warning  mb-0 mr-2">
                                                    <input type="checkbox" [(ngModel)]="item.moneySentToClient" (change)="editGivingMoneyToClient(item)">
                                                    <span class="slider round"></span>
                                                </label>
                                            </div>
                                            <div class="my-auto  font-weight-bold">
                                                somme de <span class="text-warning"> {{item?.amount}}DT</span> a été
                                                envoyer au client
                                                <span class="text-warning">
                                                    {{item?.business?.nomCommercial}}
                                                </span>
                                            </div>


                                        </div>

                                    </div>
                                </div>

                            </div>

                            <div class="col-1 px-0">
                                <button class="btn btn-info btn-block  ft-12 py-1" (click)="openRequestInModal(item)"
                                    *ngIf="((item.status==1 || item.status==12)  &&!item.pickUpJob) || ((item.status==1 || item.status==12)&& item.pickUpJob && item.pickUpJob.status==6 )  ">
                                    assign
                                </button>

                                <button class="btn btn-info btn-block ft-12 py-1 " (click)="updateDriver(item)"
                                    *ngIf="item.status==2">
                                    update
                                </button>
                                <div class="mt-2" *ngIf="item.status!=1&&item.status!=6&&item.status!=12">
                                    <button (click)="resetJob(item)"
                                        class="btn btn-danger btn-block ft-12 py-1">reset</button>
                                </div>
                                <button class="btn btn-primary btn-block py-1 px-0 ft-12 mt-2"
                                    (click)="openPackingSlip(item)">
                                    {{'SIDENAV.PACKING_SLIP' | translate}}
                                </button>
                                <button *ngIf="!item.dropOff.exactDropOffAddress"
                                    class="btn btn-warning btn-block py-1 px-0 ft-12 mt-2"
                                    (click)="askForDropOffAddress(item)">
                                    Demander l'adresse
                                </button>
                                <button class="btn btn-warning btn-block py-1 px-0 ft-12 mt-2" (click)="edit(item._id)">
                                    Edit
                                </button>
                                <button class="btn btn-outline-info btn-block py-1 mt-2" (click)="openJobHistory(item)">
                                    {{'LIVRAISON.HISTORY' | translate}}
                                </button>
                            </div>


                        </div>

                    </div>

                </div>

                <div class="row my-4">
                    <div class="col text-center">
                        <pagination-controls autoHide="true" (pageChange)="changePage($event)"></pagination-controls>
                    </div>
                    <div class="col-1 px-0 mr-2">
                        <select (change)="p=1;getAllTherequests();sharedService.updateNumberOfItemPerPage();"
                            [(ngModel)]="sharedService.itemsPerPage" class="form-control">
                            <option value=10>10</option>
                            <option value=25 selected="selected">25</option>
                            <option value=50>50</option>
                            <option value=100>100</option>
                        </select>
                    </div>
                </div>
            </div>
        </div>
    </div>

</div>


<!-- Modal edit -->
<div class="modal fade" id="assignDriver4Delivery" tabindex="-1" role="dialog" aria-labelledby="addContactModalTitle"
    aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-body">

                <div class="row ">
                    <div class="col text-center">

                        <h5>
                            {{ selectedJob?.pickUp?.pickUpAddress}}
                            {{ selectedJob?.dropOff?.dropOffAddress}}
                        </h5>
                    </div>
                </div>
                <div class="row">
                    <div class="col">

                        <div>
                            <agm-map style="    height: 250px;
                          width: 100%;
                         
                          background-color: rgb(229, 227, 223);" [latitude]="latitude" [longitude]="longitude"
                                [scrollwheel]="false" [zoom]="zoom">


                                <agm-marker style="height: 14px!important;" [latitude]="latitude"
                                    [longitude]="longitude" [iconUrl]="iconFrom
                                  ">

                                </agm-marker>



                            </agm-map>
                        </div>
                    </div>
                </div>

                <div class="row mt-3 mb-2">
                    <div class="col">
                        <ng-select required [(ngModel)]="newselectedDriver" placeholder="select a driver"
                            [items]="drivers" bindLabel="name">
                            <ng-template ng-option-tmp let-item="item" let-index="index" let-search="searchTerm">
                                <div class="d-flex justify-content-between my-auto">
                                    <h6 class="mb-0" [ngOptionHighlight]="search">{{item.name}}</h6>
                                </div>
                            </ng-template>
                        </ng-select>
                    </div>
                </div>

                <div class="row my-2">
                    <div class="col">

                        <div *ngIf="!newselectedDriver&& submitted" class="text-danger">
                            Please Select a captain
                        </div>
                    </div>
                </div>

            </div>
            <div class="modal-footer">


                <button class="btn btn-secondary" id="closeModal" data-dismiss="modal"> <i
                        class="flaticon-delete-1"></i>
                    Discard</button>

                <button id="btn-add" [disabled]="updateDriverSubmitted" (click)="assignDriverToJobs()"
                    class="btn btn-primary">
                    Save</button>
            </div>
        </div>
    </div>
</div>




<!-- Modal -->
<div class="modal fade  bd-example-modal-lg" id="bonPickup" tabindex="-1" aria-labelledby="exampleModalLabel"
    aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-body">
                <pickup-packaging-html-to-pdf *ngIf="dr.length>=1" [groupIds]="ids1" [deliveryRequests]="dr">
                </pickup-packaging-html-to-pdf>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>
<!-- Modal -->
<div class="modal fade  bd-example-modal-lg" id="retourModal" tabindex="-1" aria-labelledby="exampleModalLabel"
    aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-body">
                <retour-packaging-html-to-pdf *ngIf="retour.length>=1" [groupIds]="ids2" [deliveryRequests]="retour">
                </retour-packaging-html-to-pdf>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>


<!-- update driver Modal -->
<div class="modal fade" id="updateDriver" tabindex="-1" aria-labelledby="updateDriverLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="assignDriverLabel">update a driver</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="row mt-3 mb-2">
                    <div class="col">
                        <ng-select [(ngModel)]="updateDrivermInModal.driver" placeholder="select a driver"
                            [items]="drivers" bindLabel="name">


                            <ng-template ng-option-tmp let-item="item" let-index="index" let-search="searchTerm">
                                <div class="d-flex justify-content-between my-auto">
                                    <h6 class="mb-0" [ngOptionHighlight]="search">{{item.name}}</h6>

                                </div>
                            </ng-template>


                        </ng-select>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary" [disabled]="updateDriverSubmitted"
                    (click)="saveUpdateJobRequest()">Save changes</button>
            </div>
        </div>
    </div>
</div>

<!-- Modal -->


<!-- client Modal -->

<div class="modal fade  bd-example-modal-lg" id="clientModal" tabindex="-1" aria-labelledby="exampleModalLabel2"
    aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-body">
                <app-etat-lieux-client *ngIf="etatlieuxRequestArray.length>=1" [jobsType]="jobsType"
                    [deliveryRequests]="etatlieuxRequestArray">
                </app-etat-lieux-client>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>

<!-- Modal -->
<div class="modal fade  bd-example-modal-lg" id="bordereau" tabindex="-1" aria-labelledby="exampleModalLabel"
    aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel"></h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <app-packaging-html-to-pdf *ngIf="selectedPackingSlip" [nid]="selectedPackingSlip">
                </app-packaging-html-to-pdf>

            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>


<!-- group assign -->
<div class="modal fade" id="assignDriver4Deliveries" tabindex="-1" role="dialog" aria-labelledby="addContactModalTitle"
    aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-body">

                <div class="row ">
                    <div class="col text-center">

                        <h5>
                            Assigner en groupe
                        </h5>
                    </div>
                </div>
                <div class="row">
                    <div class="col">

                        <div>
                        </div>
                    </div>
                </div>

                <div class="row mt-3 mb-2">
                    <div class="col">
                        <ng-select required [(ngModel)]="newselectedDriver" placeholder="Choisir un chauffeur"
                            [items]="drivers" bindLabel="name">
                            <ng-template ng-option-tmp let-item="item" let-index="index" let-search="searchTerm">
                                <div class="d-flex justify-content-between my-auto">
                                    <h6 class="mb-0" [ngOptionHighlight]="search">{{item.name}}</h6>
                                </div>
                            </ng-template>
                        </ng-select>
                    </div>
                </div>

                <div class="row my-2">
                    <div class="col">

                        <div *ngIf="!newselectedDriver&& submitted" class="text-danger">
                            Choisissez un chaffeur
                        </div>
                    </div>
                </div>

            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" id="closeModal" data-dismiss="modal"> <i
                        class="flaticon-delete-1"></i>
                    Annuler</button>

                <button id="btn-add" [disabled]="updateDriverSubmitted" (click)="groupAssignToDriver()"
                    class="btn btn-primary">
                    Confirmer</button>
            </div>
        </div>
    </div>
</div>

<!-- Modal history -->
<div class="modal fade  " id="history" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg ">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel"> {{'LIVRAISON.TITLE' | translate}} </h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">

                <app-job-request-history [job]="selectJobInHistoryModal"></app-job-request-history>

            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>







<div class="modal fade  bd-example-modal-lg" id="driverModal" tabindex="-1" aria-labelledby="exampleModalLabel"
    aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-body">
                <driver-packaging-html-to-pdf *ngIf="driver.length>=1" [jobsType]="jobsType"
                    [deliveryRequests]="driver">
                </driver-packaging-html-to-pdf>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>