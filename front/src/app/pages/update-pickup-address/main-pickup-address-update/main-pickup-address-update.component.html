<div class="col-12 px-0 h-100" *ngIf="!showmap&&!showSuccessMsg">
    <div class="row h-100">
        <div class="col text-center my-auto">
            <img class="motoIcon" src="./../../../../assets/img/mapIcons/motoIcon.png" alt="">
            <div class="row mt-2">
                <div class="col text-dark font-weight-bold">
                    Précisez votre localisation
                </div>
            </div>
            <div class="row">
                <div class="col ft-12">
                    Le livreur a besoin de l'adresse exacte de la livraison
                </div>
            </div>
            <div class="container">
                <div class="row">
                    <div class="col">
                        <form [formGroup]="requestDelivery">

                            <div class="row mt-3">
                                <div class="col-12 col-md-6 mx-auto">
                                    <button (click)="locateTheClient4MePlease()"
                                        class="btn btn-block epinglerBtn px-5 py-2 ">
                                        épinglez sur Google Maps
                                    </button>
                                </div>
                            </div>

                            <div class="row mt-2 px-3 pt-2" formGroupName="pickUp">
                                <div class="col-12 col-md-6 mx-auto">
                                    <div class="form-group d-flex" *ngIf="showInput">
                                        <input [ngClass]="{ 'is-invalid':  submitted && (f.pickUp.controls.pickUpAddress.errors||
                                        f.pickUp.controls.longitude.errors 
                                        ||f.pickUp.controls.latitude.errors) }" id="geoLocInput"
                                            formControlName="pickUpAddress" class="form-control inputStyle"
                                            matGoogleMapsAutocomplete country="tn"
                                            [value]="f.pickUp.controls.pickUpAddress.value"
                                            (onAutocompleteSelected)="onPickUpAutocompleteSelected($event)"
                                            (onLocationSelected)="onPickUpLocationSelected($event)"
                                            (keyup)="pickUpInputChanged($event)">

                                        <button [disabled]="!showMarker" class="btn btn-info ft-12 "
                                            (click)="shareMyPosition()">
                                            Partager
                                        </button>
                                    </div>

                                </div>


                            </div>

                        </form>
                    </div>
                </div>

            </div>


        </div>
    </div>

</div>



<div class="col-12 px-0" *ngIf="!showSuccessMsg&&showmap">
    <form [formGroup]="requestDelivery">
        <div class="  px-3 pt-2 topAbso" formGroupName="dropOff">
            <div class="col-12 ">
                <div class="form-group" *ngIf="showInput">
                    <input [ngClass]="{ 'is-invalid':  submitted && (f.pickUp.controls.pickUpAddress.errors||
                    f.pickUp.controls.longitude.errors 
                    ||f.pickUp.controls.latitude.errors) }" id="geoLocInput" formControlName="pickUpAddress"
                        class="form-control " matGoogleMapsAutocomplete country="tn"
                        [value]="f.pickUp.controls.pickUpAddress.value"
                        (onAutocompleteSelected)="onPickUpAutocompleteSelected($event)"
                        (onLocationSelected)="onPickUpLocationSelected($event)" (keyup)="dropOffInputChanged($event)">

                </div>
            </div>

        </div>
    </form>

    <div class="bottomBtn">
        <div class="">
            <button class="btn sharePosBtn btn-block " [disabled]="!showMarker" (click)="shareMyPosition()">
                Partager ma position
            </button>
        </div>
    </div>

    <agm-map style="height: 100vh;" [latitude]="latitude" [longitude]="longitude" [scrollwheel]="false" [zoom]="zoom">
        <agm-marker (markerDrag)="markerDrag($event)" [markerDraggable]="true" *ngIf="showMarker" [latitude]="latitude"
            [longitude]="longitude" [iconUrl]="iconTo">
        </agm-marker>
    </agm-map>
</div>

<div class=" col-12 px-0 h-100" *ngIf="showSuccessMsg">
    <div class="row h-100">
        <div class="col my-auto text-center">
            <h3>
                Merci d'avoir partagé votre position avec le chauffeur
            </h3>
        </div>
    </div>
</div>